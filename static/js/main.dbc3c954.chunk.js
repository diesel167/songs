(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),o=a.n(r),g=(a(15),a(1)),i=a(2),l=a(5),c=a(4),u=a(3),P=a(6),m=(a(16),a(9)),f=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleFilterName=function(e){a.setState({filterByName:e.target.value});var t=a.state.songsOrigin;a.state.filterByYear&&"_All_"!==a.state.filterByYear&&(t=t.filter((function(e){return e.year===a.state.filterByYear}))),"_All_"===e.target.value?a.props.filteredSongs(t):a.props.filteredSongs(t.filter((function(t){return t.artist===e.target.value})))},a.generateUniqueNames=function(){if(a.state.songsOrigin){var e=a.state.songsOrigin,t=[];e.map((function(e){return t.indexOf(e.artist)<0&&t.push(e.artist),0})),t.sort((function(e,t){return e<t?-1:e>t?1:0}));var n=[];return n.push(s.a.createElement("option",{key:1e5,value:"_All_"},"All")),t.map((function(e,a){return n.push(s.a.createElement("option",{key:a*t.length,value:e},e)),0})),s.a.createElement(s.a.Fragment,null,"Singer:",s.a.createElement("select",{onChange:a.handleFilterName,size:"1"},n))}},a.handleFilterYear=function(e){a.setState({filterByYear:e.target.value});var t=a.state.songsOrigin;a.state.filterByName&&"_All_"!==a.state.filterByName&&(t=t.filter((function(e){return e.artist===a.state.filterByName}))),"_All_"===e.target.value?a.props.filteredSongs(t):a.props.filteredSongs(t.filter((function(t){return t.year===e.target.value})))},a.generateUniqueYears=function(){if(a.state.songsOrigin){var e=a.state.songsOrigin,t=[];e.map((function(e){return t.indexOf(e.year)<0&&t.push(e.year),0})),t.sort((function(e,t){return e<t?-1:e>t?1:0}));var n=[];return n.push(s.a.createElement("option",{key:100001,value:"_All_"},"All")),t.map((function(e,a){return n.push(s.a.createElement("option",{key:a*t.length,value:e},e)),0})),s.a.createElement(s.a.Fragment,null,"Year:",s.a.createElement("select",{onChange:a.handleFilterYear,size:"1"},n))}},a.state={songsOrigin:a.props.songsOrigin,uniqueNames:"",uniqueYears:"",filterByName:"",filterByYear:"",gotOriginSongsBase:!1},a}return Object(P.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"filter"},this.generateUniqueNames(),this.generateUniqueYears())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.songsOrigin===t.songsOrigin||t.gotOriginSongsBase?null:{songsOrigin:e.songsOrigin,gotOriginSongsBase:!0}}}]),t}(n.Component),h=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).rows=function(){var e=[];if(a.state.isAllSongsLoaded){var t=a.props.currentPage*a.props.songsPerPage-a.props.songsPerPage,n=a.props.currentPage*a.props.songsPerPage>a.state.songs.length?a.state.songs.length:a.props.currentPage*a.props.songsPerPage;return a.state.songs.slice(t,n).map((function(a,r){var o=s.a.createElement("tr",{key:t*n*r+r},s.a.createElement("td",{key:t*n*r+2},a.artist),s.a.createElement("td",{key:t*n*r+3},a.title),s.a.createElement("td",{key:t*n*r+4},a.year));return e.push(o),0})),e}},a.filteredSongs=function(e){a.setState({songs:e}),a.props.howManyPages(e.length)},a.sortBySinger=function(){var e=a.state.songs;"singerAsc"===a.state.sorted?(e.reverse(),a.setState({songs:e,sorted:"singerDesc"})):"singerDesc"===a.state.sorted?(e.reverse(),a.setState({songs:e,sorted:"singerAsc"})):(e.sort((function(e,t){return e.artist<t.artist?-1:e.artist>t.artist?1:0})),a.setState({songs:e,sorted:"singerAsc"}))},a.sortBySong=function(){var e=a.state.songs;"songAsc"===a.state.sorted?(e.reverse(),a.setState({songs:e,sorted:"songDesc"})):"songDesc"===a.state.sorted?(e.reverse(),a.setState({songs:e,sorted:"songAsc"})):(e.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})),a.setState({songs:e,sorted:"songAsc"}))},a.sortByYear=function(){var e=a.state.songs;"yearAsc"===a.state.sorted?(e.reverse(),a.setState({songs:e,sorted:"yearDesc"})):"yearDesc"===a.state.sorted?(e.reverse(),a.setState({songs:e,sorted:"yearAsc"})):(e.sort((function(e,t){return e.year<t.year?-1:e.year>t.year?1:0})),a.setState({songs:e,sorted:"yearAsc"}))},a.state={songs:"",isAllSongsLoaded:!1,sorted:""},a.filteredSongs=a.filteredSongs.bind(Object(u.a)(a)),a}return Object(P.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://davidpots.com/jakeworry/017%20JSON%20Grouping,%20part%203/data.json").then((function(e){return e.json()})).then((function(t){e.setState({songs:Object(m.a)(t.songs)}),e.setState({isAllSongsLoaded:!0}),e.props.howManyPages(t.songs.length)}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"songs"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{onClick:this.sortBySinger},"Singer"),s.a.createElement("th",{onClick:this.sortBySong},"Song"),s.a.createElement("th",{onClick:this.sortByYear},"Year"))),s.a.createElement("tbody",null,this.rows())),s.a.createElement(f,{songsOrigin:this.state.songs,filteredSongs:this.filteredSongs}))}}]),t}(n.Component),d=function(e){function t(){var e;return Object(g.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).howManyPages=function(t){var a=Math.ceil(t/e.state.songsPerPage);e.setState({allPagesCount:a,songsCount:t})},e.setSongsPerPage=function(t){if(e.state.lastSongsPerPageToggled){var a=e.state.lastSongsPerPageToggled;a.style.color="white",e.setState({lastSongsPerPageToggled:a})}t.target.style.color="rgba(179, 221, 237, 0.53)",e.setState({lastSongsPerPageToggled:t.target,songsPerPage:t.target.innerHTML,currentPage:1,allPagesCount:Math.ceil(e.state.songsCount/t.target.innerHTML)})},e.setPageNum=function(t){e.setState({currentPage:t.target.innerHTML,lastCurrentPageToggled:t.target})},e.generatePageNumButtons=function(){var t,a=[];(e.state.currentPage<=3||e.state.allPagesCount<=5)&&(t=1),e.state.currentPage>3&&e.state.allPagesCount>5&&e.state.currentPage<=e.state.allPagesCount-2&&(t=e.state.currentPage-2),e.state.currentPage>3&&e.state.allPagesCount>5&&e.state.currentPage>e.state.allPagesCount-2&&(t=e.state.allPagesCount-4);for(var n=t;n<=t+4;n++){var r="";n<=e.state.allPagesCount&&(r=s.a.createElement("button",{key:e.state.allPagesCount*n,className:"btn",onClick:e.setPageNum},n)),+n===+e.state.currentPage&&(r=s.a.createElement("button",{key:e.state.allPagesCount*n,className:"btn",style:{color:"rgba(179, 221, 237, 0.53)"},onClick:e.setPageNum},n)),a.push(r)}return a},e.init=Object(n.createRef)(),e.state={songsPerPage:10,lastSongsPerPageToggled:"",currentPage:1,lastCurrentPageToggled:"",allPagesCount:1,songsCount:0},e.howManyPages=e.howManyPages.bind(Object(u.a)(e)),e}return Object(P.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({lastSongsPerPageToggled:this.init.current,lastCurrentPageToggled:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(h,{songsPerPage:this.state.songsPerPage,currentPage:this.state.currentPage,howManyPages:this.howManyPages}),s.a.createElement("div",{className:"footer"},s.a.createElement("div",{className:"pageNum"},this.generatePageNumButtons(),"| of ",this.state.allPagesCount),s.a.createElement("div",{className:"songsPerPage"},s.a.createElement("button",{className:"btn",onClick:this.setSongsPerPage},"5"),s.a.createElement("button",{className:"btn",ref:this.init,style:{color:"rgba(179, 221, 237, 0.53)"},onClick:this.setSongsPerPage},"10"),s.a.createElement("button",{className:"btn",onClick:this.setSongsPerPage},"25"),s.a.createElement("button",{className:"btn",onClick:this.setSongsPerPage},"50"),s.a.createElement("button",{className:"btn",onClick:this.setSongsPerPage},"100"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.dbc3c954.chunk.js.map